<%#
  Breacrumb de ícones da hierarquia de AVA.

  Variáveis:
    current_entity: a entidade da hierarquia.
%>

<% hierarchy = entity_hierachy(current_entity) %>

<ul class="breadcrumb-icons">
  <% hierarchy.except(:lecture).each do |type, entity| %>
    <% current_entity_iteration = (current_entity == entity) %>
    <%= content_tag :li, class: "breadcrumb-icon-item #{ "breadcrumb-icon-active" if current_entity_iteration }" do %>
      <% breadcrumb_icon_classes = "breadcrumb-icon text-replacement" %>
      <% if entity.nil? %>
        <% content = t("hierarchy.#{ type.to_s }", count: 1) %>
        <%= content_tag :span, content, title: content,
          class: "#{ breadcrumb_icon_classes } icon-#{ type.to_s }-lightgray_32_34-before" %>
      <% else %>
        <%= link_to entity_hierachy_link(entity), class: "breadcrumb-icon-link" do %>
          <%= content_tag :span, entity.name, title: entity.name,
            class: "#{ breadcrumb_icon_classes } icon-#{ type.to_s }-#{ current_entity_iteration ? "lightblue" : "gray" }_32_34-before" %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
</ul>